language: node_js
node_js:
  - "0.12"
branches:
  only:
    - site
env:
  global:
  - GH_REF: github.com/excaliburjs/excaliburjs.github.io.git
install:
  - npm install grunt-cli -g
  - npm install
script:
  - grunt travis
after_success:
  - chmod ugo+x deploy.sh
  - '[ "${TRAVIS_PULL_REQUEST}" != "false" ] || ./deploy.sh'
notifications:
  slack: "${NOTIFICATION_TOKEN}"
